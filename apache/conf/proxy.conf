<VirtualHost *:80>
    # Habilitar mod_rewrite
    RewriteEngine On

    # Redirigir las rutas /api hacia el contenedor de FastAPI
    RewriteCond %{REQUEST_URI} ^/api/ [NC]
    RewriteRule ^(.*)$ http://fastapi:8000/$1 [P,L]

    # Configuraci칩n para servir archivos est치ticos
    # Servir los archivos est치ticos directamente
    DocumentRoot "/usr/local/apache2/htdocs"
    <Directory "/usr/local/apache2/htdocs">
        Options Indexes FollowSymLinks
        AllowOverride None
        Require all granted
    </Directory>

    # Redirigir a FastAPI para cualquier otra ruta que no sea archivos est치ticos
    ProxyPass /api/ http://fastapi:8000/api/
    ProxyPassReverse /api/ http://fastapi:8000/api/

</VirtualHost>
